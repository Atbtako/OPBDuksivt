SELECT @min_code := MIN(detail_weight) FROM details; UPDATE details SET city = 'Париж' WHERE @min_code;
SELECT sum(amount) from supplys where product_id = 'J2';
UPDATE supplier SET rating = rating + 5;
SELECT @max_postav := MAX(amount) FROM supplys; SELECT DISTINCT @ls := detail_number FROM supplys WHERE amount >= @max_postav; SELECT sum(amount) from supplys where detail_number = @ls;
UPDATE details SET detail_weight = detail_weight + 10 WHERE detail_color = 'Красный';
SELECT distinct detail_number, product_id, SUM(amount) AS total_quantity FROM supplys GROUP BY detail_number, product_id;
SELECT id from supplys where supply_id = 'S1';
SELECT supplier_id, surname FROM supplier WHERE supplier_id IN (SELECT supplier_id FROM supplys WHERE detail_number = 'P1' AND amount > ( SELECT AVG(amount) FROM supplys WHERE detail_number = 'P1'));
SELECT distinct sum( amount) from supplys where detail_number = 'P1' and supply_id = 'S1';
select product_id from supplys where supply_id = 'S1';
SELECT DISTINCT detail_number FROM supplys WHERE supply_id IN ( SELECT supplier_id FROM supplier WHERE city = 'Лондон')AND detail_number IN (SELECT detail_id FROM details WHERE detail_city = 'Лондон');
SELECT supplier_id, surname FROM supplier WHERE EXISTS (SELECT 1 FROM supplys WHERE supply_id = supplier.supplier_id AND ( SELECT COUNT(DISTINCT product_id) FROM supplys WHERE supply_id = supplier.supplier_id AND detail_number = supplys.detail_number) = (SELECT COUNT(*) FROM products));



